# 🎓 学生照片抽认卡系统

> **现代化、智能化的学生照片抓取与管理工具**

## ✨ 核心功能

- 🎯 **智能抓取**: 自动识别学生信息并下载对应照片
- 🔍 **多选择器**: 支持多种页面结构，适应性强
- 👤 **交互友好**: 确认式操作，避免误操作
- 📸 **照片管理**: 自动命名、验证、查看一体化
- 🛡️ **稳定可靠**: 完善的错误处理和重试机制

## 🚀 快速开始

### 一键启动

```bash
# Windows
./start.bat

# Mac/Linux  
./start.sh
```

### 手动启动

```bash
# 安装依赖
pip install selenium requests pillow

# 运行增强版（推荐）
python3 student_photo_scraper_enhanced.py

# 查看照片
python3 photo_viewer.py
```

## 📋 完整使用流程

### 步骤1: 启动系统

运行脚本后，会自动打开Chrome浏览器

### 步骤2: 浏览器操作

在打开的浏览器中：

1. **输入教务处网址** (如: http://jw.djtu.edu.cn)
2. **登录系统** (输入用户名和密码)
3. **导航到学生列表页面**

### 步骤3: 确认抓取

完成浏览器操作后，终端会提示：

```
🎯 确认是否开始抓取？ (y/n): 
```

输入 `y` 开始自动抓取

### 步骤4: 查看结果

- 照片保存在 `student_photos/` 目录
- 使用照片查看器浏览：
  ```bash
  python3 photo_viewer.py
  ```

## 📁 项目结构

```
student_photo_system/
├── 🎯 核心程序
│   ├── student_photo_scraper_enhanced.py  # 增强版抓取程序
│   ├── student_photo_scraper.py           # 基础版抓取程序
│   ├── photo_viewer.py                    # 照片查看器
│   ├── config.py                         # 配置选择器
│   └── setup.py                          # 安装脚本
├── 🌐 Web应用
│   └── flashcard.html                    # 现代化抽认卡系统
├── 🚀 启动工具
│   ├── start.bat                         # Windows一键启动
│   └── start.sh                          # Mac/Linux一键启动
├── 📸 照片目录
│   └── student_photos/                   # 学生照片存储
├── 📖 文档
│   ├── README.md                         # 项目说明
│   ├── usage_guide.md                    # 详细使用指南
│   └── project_summary.md                # 项目总结
└── 📝 其他
    ├── .gitignore                        # Git忽略配置
    └── logs/                            # 运行日志
```

## 🎨 功能特色

### 增强版特性

- ✅ **自动ChromeDriver**: 智能匹配浏览器版本
- ✅ **多选择器支持**: 适应不同网页结构
- ✅ **会话保持**: 自动传递登录cookies
- ✅ **文件验证**: 空文件自动清理
- ✅ **实时进度**: 详细的操作状态提示
- ✅ **错误恢复**: 智能重试机制

### 照片查看器功能

- 📱 **图形界面**: 基于Tkinter的现代化界面
- ⌨️ **快捷键支持**: 方向键切换，空格键随机
- 🖱️ **鼠标操作**: 按钮控制，直观易用
- 📊 **信息显示**: 显示学生姓名和照片信息

### 🌟 Web抽认卡功能

**新增功能！** 基于浏览器的现代化抽认卡学习系统

- 🎯 **三行布局**: 导航按钮 | 显示答案 | 输入框
- 🎆 **烟花庆祝**: 答对触发全屏烟花效果
- 🔥 **连击系统**: 连续答对计数，右上角弹出提示
- 🏆 **终极成就**: 全部答对显示"全部答对！！！"
- 🎮 **智能逻辑**: 查看答案后当前题不计入连击
- 📱 **响应式设计**: 支持手机、平板、电脑全平台

#### Web抽认卡使用方法

1. **启动服务**

   ```bash
   # 在项目目录启动本地服务器
   python3 -m http.server 8000
   ```
2. **访问系统**
   打开浏览器访问：http://localhost:8000/flashcard.html
3. **使用流程**

   - **第一步**：查看学生照片
   - **第二步**：在输入框输入学生姓名
   - **第三步**：按回车键或等待自动验证
   - **第四步**：答对看烟花，答错重试
   - **第五步**：按回车或点击"下一张"继续
4. **功能按钮**

   - ⬅️ **上一张**: 查看前一张照片
   - 👀 **显示答案**: 查看当前学生姓名（不计入连击）
   - ➡️ **下一张**: 进入下一张照片
5. **成就系统**

   - 🔥 **连击提示**: 右上角显示"连击X次"
   - 🎆 **烟花效果**: 答对时全屏烟花庆祝
   - 🏆 **终极成就**: 全部答对显示金色"全部答对！！！"

#### 快捷操作

- **回车键**: 提交答案 / 下一题
- **方向键**: ← → 切换照片
- **空格键**: 显示答案（查看模式）

## 🔧 高级配置

### 自定义选择器

编辑 `config.py` 文件：

```python
# 学生姓名选择器
STUDENT_NAME_SELECTORS = [
    "a.student-name",
    ".student-info a",
    "tr td:nth-child(2) a"
]

# 照片选择器
STUDENT_PHOTO_SELECTORS = [
    "img.student-photo",
    ".avatar img",
    "img[src*='photo']"
]
```

### 系统要求

- **Python**: 3.6+
- **浏览器**: Chrome/Chromium
- **系统**: Windows/Mac/Linux
- **网络**: 稳定网络连接

## 🎯 使用场景

### 传统应用

- 👨‍🏫 **教师工具**: 制作学生名片、座位表
- 📚 **班级管理**: 学生通讯录、签到表
- 📝 **考试管理**: 考试座位安排、身份验证
- 🎓 **活动组织**: 活动签到、分组管理

### Web抽认卡应用

- 🧠 **记忆训练**: 通过游戏化方式记忆学生姓名
- 📱 **移动学习**: 手机、平板随时练习
- 🎯 **教学辅助**: 课堂点名、认识新同学
- 🏆 **成就激励**: 通过连击系统提高学习积极性
- 🎮 **互动教学**: 寓教于乐的记忆游戏

## 🆘 技术支持

### 常见问题

1. **ChromeDriver问题**: 运行 `setup.py` 自动安装
2. **登录失败**: 确保在浏览器完成完整登录流程
3. **选择器不匹配**: 使用调试工具或调整config.py

### 获取帮助

- 查看 `usage_guide.md` 详细指南
- 检查终端错误提示
- 验证网络连接和登录状态

---

**🎓 学生照片抽记卡系统 - 让教学管理更高效！**
